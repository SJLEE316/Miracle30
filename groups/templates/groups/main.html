{% extends 'base.html' %}
{% load static %}
{% load index %}
{% block content %}

<section class="main">
  <div class="goal_container">
    <h1 class="text_center">{{ goal.name }}</h1>
    <h3 class="text_center">하루 {{ goal.goal_page }}페이지 독서하기</h3>
    <h4 class="text_center">참여인원: {{ member_count }}</h4>
  </div>

  <div class="my_tab">
    <button class="btn clicked my_goalBtn">나의 목표 보기</button>
    <button class="btn my_infoBtn">개인 정보 보기</button>
  </div>

  <div class="goal_check table_container">
    <table>
      <thead>
        <!-- 날짜 1~10일 -->
        <tr>
          {% for i in "x"|rjust:"10" %}
          <th>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
              index="{{ forloop.counter0 }}">
              {{ dates|index_1:forloop.counter0|date:'m/d' }}
            </button>
          </th>
          {% endfor %}
        </tr>
        <!-- 잔디밭 1~10일 -->
        <tr>
          {% for i in "x"|rjust:"10" %}
          <th class="level{{ level|index_1:forloop.counter0 }}">{{ name|index_1:forloop.counter0 }}</th>
          {% endfor %}
        </tr>
        <!-- 날짜 10~20일 -->
        <tr>
          {% for i in "x"|rjust:"10" %}
          <th>{{ dates|index_2:forloop.counter0|date:'m/d' }}</th>
          {% endfor %}
        </tr>
        <!-- 잔디밭 10~20일 -->
        <tr>
          {% for i in "x"|rjust:"10" %}
          <th class="level{{ level|index_2:forloop.counter0 }}">{{ name|index_2:forloop.counter0 }}</th>
          {% endfor %}
        </tr>
        <!-- 날짜 20~30일 -->
        <tr>
          {% for i in "x"|rjust:"10" %}
          <th>{{ dates|index_3:forloop.counter0|date:'m/d' }}</th>
          {% endfor %}
        </tr>
        <!-- 잔디밭 20~30일 -->
        <tr>
          {% for i in "x"|rjust:"10" %}
          <th class="level{{ level|index_3:forloop.counter0 }}">{{ name|index_3:forloop.counter0 }}</th>
          {% endfor %}
        </tr>
      </thead>
    </table>
  </div>

  <div class="goal_verify">
    <a class="btn1" href="{% url 'groups:certify' goal.id %}">인증하기</a>
    <a class="btn1" href="{% url 'groups:personal' goal.id %}">개인 도장판</a>
    <a class="btn1" href="{% url 'groups:show_certify' goal.id %}">인증 열람</a>
  </div>



  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">성공 인원</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <th>{{ name|index_1:0 }}</th>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}